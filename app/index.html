<!doctype html>
<html lang="it" ng-app="mealApp">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>M.e.a.l.</title>
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="app.css" />
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-route/angular-route.js"></script>

  <script src="bower_components/nodep-date-input-polyfill/nodep-date-input-polyfill.dist.js"></script>

  <script src="bower_components/ng-file-upload/ng-file-upload-shim.min.js"></script> <!-- for no html5 browsers support -->
  <script src="bower_components/ng-file-upload/ng-file-upload.min.js"></script>

  <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
  <script src="bower_components/angular-mass-autocomplete/massautocomplete.js"></script>
  <link rel="stylesheet" href="bower_components/angular-mass-autocomplete/massautocomplete.theme.css" />

  <script src="bower_components/moment/moment.js"></script>
  <script src="bower_components/angular-moment/angular-moment.js"></script>

  <script src="bower_components/humanize-duration/humanize-duration.js"></script>
  <script src="bower_components/angular-timer/dist/angular-timer.js"></script>

  <link rel='stylesheet' href='bower_components/font-awesome/css/font-awesome.css'>

  <link rel='stylesheet' href='bower_components/textAngular/dist/textAngular.css'>
  <script src='bower_components/textAngular/dist/textAngular-rangy.min.js'></script>
  <script src='bower_components/textAngular/dist/textAngular-sanitize.min.js'></script>
  <script src='bower_components/textAngular/dist/textAngular.min.js'></script>

  <script src='bower_components/angular-filter/dist/angular-filter.min.js'></script>


  <script src="app.config.js"></script>
  <script src="app.services.js"></script>


  <script src="modules/pages/home/home.component.js"></script>
  <script src="modules/pages/profile/profile.component.js"></script>
  <script src="modules/pages/register/register.component.js"></script>
  <script src="modules/pages/create-project/create-project.component.js"></script>
  <script src="modules/pages/projects/projects.component.js"></script>
  <script src="modules/pages/project-details/project-details.component.js"></script>
  <script src="modules/pages/project-management/project-management.component.js"></script>
  <script src="modules/pages/show/show.component.js"></script>
  <script src="modules/pages/admin/admin.component.js"></script>

  <script src="modules/components/login/login.component.js"></script>

  <script src="modules/widgets/carte-associate/carte-associate.component.js"></script>
  <script src="modules/widgets/dettagli-account/dettagli-account.component.js"></script>
  <script src="modules/widgets/invia-denaro/invia-denaro.component.js"></script>
  <script src="modules/widgets/storico/storico.component.js"></script>
  <script src="modules/widgets/cambio-password/cambio-password.component.js"></script>
  <script src="modules/widgets/storico-prestiti/storico-prestiti.component.js"></script>

</head>

<body>

  <div class="bg-green upper-div">
    <div><a href="#!" style="color: white;text-decoration: none;">MEAL</a></div>

    <div class="access-div">
      <div ng-controller="loggedController">
        <a class="btn btn-success" href="#!admin" ng-show='isAdmin()'>Admin</a>
        <div class="btn-group show-on-hover" ng-show='isLoggedIn()'>
          <a class="btn btn-success" ng-click="show = !show">Notifiche <span class="badge">{{notifications.unread.length}}</span></a>
          <ul class="dropdown-menu" role="menu" ng-show="show" ng-if="notifications.unread.length" style="display:block;max-width: 100%;">
            <li ng-repeat="notif in notifications.unread"><a class="ellipsis">{{notif.message = extractConvert(notif.message)}}</a></li>
            <li class="divider"></li>
            <li><a href="" ng-click='deleteNotifications()'>Cancella tutto</a></li>
          </ul>
        
          <a class="btn btn-success" href="#!newProject">Nuovo progetto</a>
          <a class="btn btn-success" href="#!profile">Profilo</a>
          <a class="btn btn-success" href="#!projects">Progetti</a>
          <a class="btn btn-success" href="#!projects?onlyMy=true">I miei progetti</a>
          <a class="btn btn-success" ng-click='logout()'>Logout</a>
        </div>

        <div class="btn-group" ng-show='!isLoggedIn()'>
          <a class="btn btn-success" href="#!login">Login</a>
          <a class="btn btn-success" href="#!register">Register</a>
        </div>
      </div>
    </div>

  </div>

  <div ng-view></div>

  <!--<div id="login" ng-viewlogin></div>-->

  <div class="bg-green lower-div">
    Footer<br>
    Navigation, credits, etc...
  </div>

</body>

</html>
